{% extends 'base.html' %}

{% block navbar-content %}
    <i style="color: yellowgreen;" class="fas fa-user-alt"></i>&nbsp;&nbsp; Employee List
{% endblock navbar-content %}
{% block navbar-search %}
    <!-- Navbar Search -->
    <div class="d-flex" style="margin-right: 25px;">
        <div class="input-group input-group-sm">
            <input class="form-control" type="search" id="search" placeholder="Live search" aria-label="Search">
            <a href="{% url 'home' %}" class="btn btn-secondary btn-sm"><i class="fas fa-sync-alt"></i></a>
        </div>
    </div>
{% endblock %}
{% block content %}
    <div class="container">
        <br><br><br>

        <table class="table table-bordered" id="example" style="text-align: center;">
            <thead class="table-success">
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Occupation</th>
                <th>Salary</th>
                <th>Gender</th>
            </tr>
            </thead>
            <!-- Data from backend -->
            {% for emlpoyee in employees %}
                <tr>
                    <td>{{ emlpoyee.id }}</td>
                    <td>{{ emlpoyee.name }}</td>
                    <td>{{ emlpoyee.email }}</td>
                    <td>{{ emlpoyee.occupation }}</td>
                    <td>{{ emlpoyee.salary }}</td>
                    <td>{{ emlpoyee.gender }}</td>
                </tr>
            {% endfor %}
        </table>
    </div> <!-- END // container -->
    <br><br><br><br>
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
            crossorigin="anonymous"></script>

    <!-- Jquery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <!-- Datatables -->
    <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>
    <!-- Datatables script -->
    <script>
        $("#example").DataTable({
            paging: true,
            pageLenght: 3,
            lengthChange: true,
            autoWidht: false,
            searching: true,
            bInfo: true,
            bSort: true,
        });
        // Enable search box outside
        let newSearch = $("#example").DataTable();
        $('#search').keyup(function() {
            newSearch.search($(this).val()).draw();
        });
    </script>


{% endblock content %}